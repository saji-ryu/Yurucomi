{"version":3,"sources":["../src/server/mergeLocalSettingsData.ts"],"names":["mergeLocalSettingsData","data","userSettings","tsName","userName","newSettings","settings","console","log"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,IAAD,EAA6B;AAC1D,MAAI,CAACC,sBAAaD,IAAI,CAACE,MAAlB,CAAL,EAAgC;AAC9BD,0BAAaD,IAAI,CAACE,MAAlB,IAA4B,EAA5B;AACD;;AACD,MAAI,CAACD,sBAAaD,IAAI,CAACE,MAAlB,EAA0BF,IAAI,CAACG,QAA/B,CAAL,EAA+C;AAC7CF,0BAAaD,IAAI,CAACE,MAAlB,EAA0BF,IAAI,CAACG,QAA/B,IAA2C,EAA3C;AACD;;AACD,MAAMC,WAAgB,GAAG,yBACvBJ,IAAI,CAACK,QADkB,EAEvBJ,sBAAaD,IAAI,CAACE,MAAlB,EAA0BF,IAAI,CAACG,QAA/B,CAFuB,CAAzB;AAKAG,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBH,WAAnB;AAEAH,wBAAaD,IAAI,CAACE,MAAlB,EAA0BF,IAAI,CAACG,QAA/B,IAA2CC,WAA3C;AACD,CAfD;;eAiBeL,sB","sourcesContent":["import deepAssign from \"deep-assign\";\nimport userSettings from \"./userSettings\";\nimport { SettingUpdateData, Setting } from \"yurucomi-interfaces\";\nconst mergeLocalSettingsData = (data: SettingUpdateData) => {\n  if (!userSettings[data.tsName]) {\n    userSettings[data.tsName] = {};\n  }\n  if (!userSettings[data.tsName][data.userName]) {\n    userSettings[data.tsName][data.userName] = {};\n  }\n  const newSettings: any = deepAssign(\n    data.settings,\n    userSettings[data.tsName][data.userName]\n  );\n\n  console.log(\"new\", newSettings);\n\n  userSettings[data.tsName][data.userName] = newSettings;\n};\n\nexport default mergeLocalSettingsData;\n"],"file":"mergeLocalSettingsData.js"}