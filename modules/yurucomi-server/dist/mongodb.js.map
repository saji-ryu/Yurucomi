{"version":3,"sources":["../src/server/mongodb.ts"],"names":["debug","url","process","env","MONGODB_URI","db","MongoClient","connect","err","client","console","log","collection","collectionName"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,KAAK,GAAG,qBAAO,cAAP,CAAd;AACA,IAAMC,GAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,8BAA/C;AACA,IAAIC,EAAJ;;AAEAC,qBAAYC,OAAZ,CACEN,GADF,EAEE,UAACO,GAAD,EAAMC,MAAN,EAAiB;AACf,MAAID,GAAJ,EAAS;AACPE,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACD;;AACDR,EAAAA,KAAK,2BAAoBC,GAApB,OAAL;AACAI,EAAAA,EAAE,GAAGI,MAAM,CAACJ,EAAP,EAAL;AACD,CARH;;AAWA,IAAMO,UAAU,GAAG,SAAbA,UAAa,CAASC,cAAT,EAA6C;AAC9D,SAAOR,EAAE,CAACO,UAAH,CAAcC,cAAd,CAAP;AACD,CAFD;;eAIeD,U","sourcesContent":["import { MongoClient, Db, Collection } from \"mongodb\";\nimport _debug from \"debug\";\n\nconst debug = _debug(\"server:mongo\");\nconst url: string = process.env.MONGODB_URI || \"mongodb://localhost/yurucomi\";\nlet db: Db;\n\nMongoClient.connect(\n  url,\n  (err, client) => {\n    if (err) {\n      console.log(err);\n    }\n    debug(`connected to DB(${url})`);\n    db = client.db();\n  }\n);\n\nconst collection = function(collectionName: string): Collection {\n  return db.collection(collectionName);\n};\n\nexport default collection;\n"],"file":"mongodb.js"}